<ul class="list-unstyled toc" id="markdown-toc">
  <li><a href="#overview">Overview</a></li>
  <li><a href="#policies">Policies</a>    <ul>
      <li><a href="#policy-model-and-defaults">Policy Model and Defaults</a>        <ul>
          <li><a href="#default-policies">Default Policies</a></li>
          <li><a href="#policy-model">Policy Model</a></li>
          <li><a href="#policy-object">Policy Object</a></li>
          <li><a href="#people-object">People Object</a></li>
          <li><a href="#group-condition-object">Group Condition Object</a></li>
          <li><a href="#user-condition-object">User Condition Object</a></li>
          <li><a href="#links-object">Links Object</a></li>
        </ul>
      </li>
      <li><a href="#policy-operations">Policy Operations</a>        <ul>
          <li><a href="#get-all-policies-by-type">Get All Policies by Type</a>            <ul>
              <li><a href="#request-parameters">Request Parameters</a>                <ul>
                  <li><a href="#request-example">Request Example</a></li>
                  <li><a href="#response-example">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#get-a-policy">Get a Policy</a>            <ul>
              <li><a href="#request-parameters-1">Request Parameters</a>                <ul>
                  <li><a href="#request-example-1">Request Example</a></li>
                  <li><a href="#response-example-1">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#create-a-policy">Create a Policy</a>            <ul>
              <li><a href="#request-parameters-2">Request Parameters</a></li>
              <li><a href="#request-example-2">Request Example</a>                <ul>
                  <li><a href="#response-example-2">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#update-a-policy">Update a Policy</a>            <ul>
              <li><a href="#request-parameters-3">Request Parameters</a>                <ul>
                  <li><a href="#request-example-3">Request Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#response-parameters">Response Parameters</a></li>
          <li><a href="#delete-policy">Delete Policy</a>            <ul>
              <li><a href="#request-parameters-4">Request Parameters</a></li>
            </ul>
          </li>
          <li><a href="#response-parameters-1">Response Parameters</a></li>
          <li><a href="#activate-a-policy">Activate a Policy</a>            <ul>
              <li><a href="#request-parameters-5">Request Parameters</a></li>
              <li><a href="#response-parameters-2">Response Parameters</a></li>
            </ul>
          </li>
          <li><a href="#deactivate-a-policy">Deactivate a Policy</a>            <ul>
              <li><a href="#request-parameters-6">Request Parameters</a></li>
              <li><a href="#response-parameters-3">Response Parameters</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#rules">Rules</a>    <ul>
      <li><a href="#rules-model-and-defaults">Rules Model and Defaults</a>        <ul>
          <li><a href="#default-rules">Default Rules</a></li>
          <li><a href="#rules-object">Rules Object</a></li>
          <li><a href="#conditions">Conditions</a></li>
          <li><a href="#actions">Actions</a></li>
        </ul>
      </li>
      <li><a href="#rules-operations">Rules Operations</a>        <ul>
          <li><a href="#get-policy-rules">Get Policy Rules</a>            <ul>
              <li><a href="#request-parameters-7">Request Parameters</a>                <ul>
                  <li><a href="#response-example-3">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#get-a-rule">Get a Rule</a>            <ul>
              <li><a href="#request-parameters-8">Request Parameters</a></li>
              <li><a href="#response-parameters-4">Response Parameters</a></li>
            </ul>
          </li>
          <li><a href="#create-rule">Create Rule</a>            <ul>
              <li><a href="#request-parameters-9">Request Parameters</a>                <ul>
                  <li><a href="#request-example-4">Request Example</a></li>
                  <li><a href="#response-example-4">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#update-a-rule">Update a Rule</a>            <ul>
              <li><a href="#request-parameters-10">Request Parameters</a>                <ul>
                  <li><a href="#request-example-5">Request Example</a></li>
                  <li><a href="#response-example-5">Response Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#activate-a-rule">Activate a Rule</a>            <ul>
              <li><a href="#request-parameters-11">Request Parameters</a></li>
              <li><a href="#response-parameters-5">Response Parameters</a></li>
            </ul>
          </li>
          <li><a href="#deactivate-a-rule">Deactivate a Rule</a>            <ul>
              <li><a href="#request-parameters-12">Request Parameters</a></li>
              <li><a href="#response-parameters-6">Response Parameters</a></li>
            </ul>
          </li>
          <li><a href="#delete-a-rule">Delete a Rule</a>            <ul>
              <li><a href="#request-parameters-13">Request Parameters</a></li>
              <li><a href="#response-parameters-7">Response Parameters</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="overview">Overview</h1>

<p>The Okta Policy API enables you to peform policy and rule operations. These operation apply to various policies including Okta Signon.</p>

<p>This API supports the following <strong>policy operations</strong>:</p>

<ul>
  <li>Get all policies of a specific type</li>
  <li>Create, read, update, and delete a policy</li>
  <li>Activate and deactivate a policy</li>
</ul>

<p>This API supports the following <strong>rule operations</strong>:</p>

<ul>
  <li>Get all rules for a policy</li>
  <li>Create, read, update, and delete a rule for a policy</li>
  <li>Activate and deactivate a rule</li>
</ul>

<blockquote>
  <p>This API is currently in <strong>Early Access (EA)</strong> status.</p>
</blockquote>

<h1 id="policies">Policies</h1>

<h2 id="policy-model-and-defaults">Policy Model and Defaults</h2>

<h3 id="default-policies">Default Policies</h3>

<p>There is always a default policy created for each type of policy. The default policy applies to any users for whom other policies in the org do not apply. This ensures that there is always a policy to apply to a user in all situations. </p>

<ul>
  <li>
    <p>A default policy is required and cannot be deleted.</p>
  </li>
  <li>
    <p>The default policy is always the last policy in the priority order. Any added policies of this type have higher priority than the default policy. </p>
  </li>
  <li>
    <p>The default policy always has one default rule that cannot be deleted. It is always the last rule in the priority order. If you add rules to the default policy, they have a higher priority than the default rule. For information on default rules, see <a href="#rules-model-and-defaults">Rules Model and Defaults</a>.</p>
  </li>
  <li>
    <p>The <code>system</code> attribute determines whether a policy is created by a system or by a user.</p>
  </li>
</ul>

<h3 id="policy-model">Policy Model</h3>

<p>Policies and rules are ordered numerically by priority. This priority determines the order in which they are searched for a context match. The highest priority policy has a priorityOrder of 1.</p>

<p>For example, assume the following conditions are in effect.</p>

<ul>
  <li>Rule A has priority 1 and applies to RADIUS VPN scenarios.</li>
  <li>Rule B has priority 2 and applies to ON_NETWORK scenarios.</li>
</ul>

<p>Because Rule A has a higher priority, even though requests are coming from ON_NETWORK due to VPN,
the action in Rule A is taken, and Rule B is not evaluated.</p>

<h3 id="policy-object">Policy Object</h3>

<p>The Policy model defines several attributes:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Identifier for the policy</td>
      <td>String</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
    <tr>
      <td>type</td>
      <td>Policy type –  must be <code>OKTA_SIGN_ON</code></td>
      <td>String</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>name</td>
      <td>Name for the policy</td>
      <td>String</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>description</td>
      <td>Description for the policy</td>
      <td>String</td>
      <td>No</td>
      <td>Null</td>
    </tr>
    <tr>
      <td>priorityOrder</td>
      <td>Priority for the policy</td>
      <td>Int</td>
      <td>No</td>
      <td>Last / Lowest Priority</td>
    </tr>
    <tr>
      <td>system</td>
      <td>Whether or not the policy is the default</td>
      <td>Boolean</td>
      <td>No</td>
      <td>false</td>
    </tr>
    <tr>
      <td>status</td>
      <td>Status of the policy: ACTIVE or INACTIVE</td>
      <td>String</td>
      <td>No</td>
      <td>“ACTIVE”</td>
    </tr>
    <tr>
      <td>created</td>
      <td>Timestamp when the policy was created</td>
      <td>Date</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
    <tr>
      <td>lastUpdated</td>
      <td>Timestamp when the policy was last modified</td>
      <td>Date</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
  </tbody>
</table>

<h3 id="people-object">People Object</h3>

<p>The people condition identifies users and groups that are used together. For policies, you can only include a group.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>groups</td>
      <td>The group condition</td>
      <td>Group Condition</td>
      <td>No</td>
      <td>Include Everyone</td>
    </tr>
    <tr>
      <td>users</td>
      <td>The user condition</td>
      <td>User Condition</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
  </tbody>
</table>

<h3 id="group-condition-object">Group Condition Object</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>include</td>
      <td>The groups to be included</td>
      <td>Collection of String</td>
      <td>No</td>
      <td>Everyone Group (if exclude is empty)</td>
    </tr>
    <tr>
      <td>exclude</td>
      <td>The groups to be excluded</td>
      <td>Collection of String</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
  </tbody>
</table>

<h3 id="user-condition-object">User Condition Object</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>include</td>
      <td>The users to be included</td>
      <td>Collection of String</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
    <tr>
      <td>exclude</td>
      <td>The users to be excluded</td>
      <td>Collection of String</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
  </tbody>
</table>

<h3 id="links-object">Links Object</h3>

<p>Specifies link relations (See <a href="http://tools.ietf.org/html/rfc5988">Web Linking</a>) available for the current policy.  The Links Object is used for dynamic discovery of related resources.  The Links Object is <strong>read-only</strong>.</p>

<p>Specified link </p>

<table>
  <thead>
    <tr>
      <th>Link Relation Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>self</td>
      <td>The policy or rule</td>
    </tr>
    <tr>
      <td>activate</td>
      <td>Action to activate a policy or rule</td>
    </tr>
    <tr>
      <td>deactivate</td>
      <td>Action to deactivate a policy or rule</td>
    </tr>
    <tr>
      <td>rules</td>
      <td>Rules objects for a policy only</td>
    </tr>
    <tr>
      <td>policy</td>
      <td>Policy object for a rule only</td>
    </tr>
  </tbody>
</table>

<h2 id="policy-operations">Policy Operations</h2>

<h3 class="api api-operation" id="get-all-policies-by-type">Get All Policies by Type</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET </span> /api/v1/policies?type={type}</span></p>

<h4 id="request-parameters">Request Parameters</h4>

<p>The policy type described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h5 class="api api-request api-request-example" id="request-example">Request Example</h5>

<p>GET api/v1/policies?type=OKTA_SIGN_ON</p>

<h5 class="api api-response api-response-example" id="response-example">Response Example</h5>

<pre><code class="language-json">{
        "type": "OKTA_SIGN_ON",
        "id": "00oewwEGGIFFQTUCFCVJ",
        "status": "ACTIVE",
        "name": "Legacy Policy",
        "description": "The legacy policy contains any existing settings from the legacy Okta Sign On Policy",
        "priorityOrder": 1,
        "system": false,
        "conditions": {
            "people": {
                "groups": {
                    "include": [
                        "00oewwEGGIFFQTUCFCVJ"
                    ]
                }
            }
        },
        "created": "2014-10-09T00:06:07.000Z",
        "lastUpdated": "2014-10-09T00:06:07.000Z",
        "_links": {
            "self": {
                "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ",
                "hints": {
                    "allow": [
                        "GET",
                        "PUT",
                        "DELETE"
                    ]
                }
            },
            "deactivate": {
                "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/lifecycle/deactivate",
                "hints": {
                    "allow": [
                        "POST"
                    ]
                }
            },
            "rules": {
                "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/rules",
                "hints": {
                    "allow": [
                        "GET",
                        "POST"
                    ]
                }
            }
        }
    },
    {
        "type": "OKTA_SIGN_ON",
        "id": "11oewwEGGIFFQTUCFCVJ",
        "status": "ACTIVE",
        "name": "Default Policy",
        "description": "The default policy applies in all situations if no other policy applies.",
        "priorityOrder": 2,
        "system": true,
        "conditions": {
            "people": {
                "groups": {
                    "include": [
                        "01oewwEGGIFFQTUCFCVJ"
                    ]
                }
            }
        },
        "created": "2014-10-09T00:06:06.000Z",
        "lastUpdated": "2014-10-09T00:06:07.000Z",
        "_links": {
            "self": {
                "href": "https:/your-domain.okta.com/api/v1/policies/01oewwEGGIFFQTUCFCVJ",
                "hints": {
                    "allow": [
                        "GET",
                        "PUT"
                    ]
                }
            },
            "rules": {
                "href": "https:/your-domain.okta.com/api/v1/policies/01oewwEGGIFFQTUCFCVJ/rules",
                "hints": {
                    "allow": [
                        "GET",
                        "POST"
                    ]
                }
            }
        }
    }
</code></pre>

<h3 class="api api-operation" id="get-a-policy">Get a Policy</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET </span> /api/v1/policies/{id}</span></p>

<p>Gets an existing policy.</p>

<h4 id="request-parameters-1">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h5 class="api api-request api-request-example" id="request-example-1">Request Example</h5>

<p>GET api/v1/policies/00oewwEGGIFFQTUCFCVJ</p>

<h5 class="api api-response api-response-example" id="response-example-1">Response Example</h5>

<pre><code class="language-json">{
    "type": "OKTA_SIGN_ON",
    "id": "00oewwEGGIFFQTUCFCVJ",
    "status": "ACTIVE",
    "name": "Legacy Policy",
    "description": "The legacy policy contains any existing settings from the legacy Okta Sign On Policy",
    "priorityOrder": 1,
    "system": false,
    "conditions": {
        "people": {
            "groups": {
                "include": [
                    "00oewwEGGIFFQTUCFCVJ"
                ]
            }
        }
    },
    "created": "2014-10-09T00:06:07.000Z",
    "lastUpdated": "2014-10-09T00:06:07.000Z",
    "_links": {
        "self": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ",
            "hints": {
                "allow": [
                    "GET",
                    "PUT",
                    "DELETE"
                ]
            }
        },
        "deactivate": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/lifecycle/deactivate",
            "hints": {
                "allow": [
                    "POST"
                ]
            }
        },
        "rules": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/rules",
            "hints": {
                "allow": [
                    "GET",
                    "POST"
                ]
            }
        }
    }
}
</code></pre>

<h3 class="api api-operation" id="create-a-policy">Create a Policy</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span> /api/v1/policies</span></p>

<p>Creates a new policy with no rules.</p>

<h4 id="request-parameters-2">Request Parameters</h4>

<p>The policy name, description, and type described in the <a href="#policy-object">Policy Object</a> are required. The policy name cannot be the same as the name of an existing policy.</p>

<h4 id="request-example-2">Request Example</h4>

<pre><code class="language-json">{
  "name": "New Okta Sign On Policy",
  "description": "API created policy",
  "type": "OKTA_SIGN_ON"
}
</code></pre>

<h5 class="api api-response api-response-example" id="response-example-2">Response Example</h5>

<pre><code class="language-json">{
    "type": "OKTA_SIGN_ON",
    "id": "00oewwEGGIFFQTUCFCVJ",
    "status": "ACTIVE",
    "name": "New Okta Sign On Policy",
    "description": "API created policy",
    "priorityOrder": 2,
    "system": false,
    "conditions": {
        "people": {
            "groups": {
                "include": [
                    "00oewwEGGIFFQTUCFCVJ"
                ]
            }
        }
    },
    "created": "2014-10-13T22:53:12.000Z",
    "lastUpdated": "2014-10-13T22:53:12.000Z",
    "_links": {
        "self": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ",
            "hints": {
                "allow": [
                    "GET",
                    "PUT",
                    "DELETE"
                ]
            }
        },
        "deactivate": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/lifecycle/deactivate",
            "hints": {
                "allow": [
                    "POST"
                ]
            }
        },
        "rules": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/rules",
            "hints": {
                "allow": [
                    "GET",
                    "POST"
                ]
            }
        }
    }
}
</code></pre>

<h3 class="api api-operation" id="update-a-policy">Update a Policy</h3>

<p><span class="api-uri-template api-uri-put"><span class="api-label">PUT </span> /api/v1/policies/{id}</span></p>

<p>Updates an existing policy.</p>

<h4 id="request-parameters-3">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h5 class="api api-request api-request-example" id="request-example-3">Request Example</h5>

<p>The example below shows the required items. You can add other items in the <a href="#policy-object">Policy Object</a> as desired.</p>

<p><strong>Note:</strong> This is a strict PUT. Any missing item is set to its default value. For example if <code>priorityOrder</code> is missing from the policy body, the item moves to the lowest priority order in the policy. If the group assignment is missing, the policy is reassigned to the Everyone group.</p>

<pre><code class="language-json">{
  "name": "My Updated Policy",
  "description": "This is my policy",
  "type": "OKTA_SIGN_ON"
}
</code></pre>

<h3 id="response-parameters">Response Parameters</h3>

<pre><code class="language-json">{
    "type": "OKTA_SIGN_ON",
    "id": "00oewwEGGIFFQTUCFCVJ",
    "status": "ACTIVE",
    "name": "My Updated Policy",
    "description": "This is my policy",
    "priorityOrder": 2,
    "system": false,
    "conditions": {
        "people": {
            "groups": {
                "include": [
                    "00g6fud2wSIIWCLSPYVR"
                ]
            }
        }
    },
    "created": "2014-10-13T22:53:12.000Z",
    "lastUpdated": "2014-10-13T23:55:46.000Z",
    "_links": {
        "self": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ",
            "hints": {
                "allow": [
                    "GET",
                    "PUT",
                    "DELETE"
                ]
            }
        },
        "deactivate": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/lifecycle/deactivate",
            "hints": {
                "allow": [
                    "POST"
                ]
            }
        },
        "rules": {
            "href": "https:/your-domain.okta.com/api/v1/policies/00oewwEGGIFFQTUCFCVJ/rules",
            "hints": {
                "allow": [
                    "GET",
                    "POST"
                ]
            }
        }
    }
}
</code></pre>

<h3 class="api api-operation" id="delete-policy">Delete Policy</h3>

<p><span class="api-uri-template api-uri-delete"><span class="api-label">Delete </span> /api/v1/policies/{id}</span></p>

<p>Deletes a policy and all rules associated with it.</p>

<h4 id="request-parameters-4">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h3 id="response-parameters-1">Response Parameters</h3>

<p>None. Status 204 No Content is returned when the deletion is successful.</p>

<h3 class="api api-operation" id="activate-a-policy">Activate a Policy</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span>/api/v1/policies/{id}/lifecycle/activate</span></p>

<p>Activates the specified policy.</p>

<h4 id="request-parameters-5">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h4 id="response-parameters-2">Response Parameters</h4>

<p>None. Status 204 No Content is returned when the activation is successful.</p>

<h3 class="api api-operation" id="deactivate-a-policy">Deactivate a Policy</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span>/api/v1/policies/{id}/lifecycle/deactivate</span></p>

<p>Deactivates the specified policy.</p>

<h4 id="request-parameters-6">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h4 id="response-parameters-3">Response Parameters</h4>

<p>None. Status 204 No Content is returned when the deactivation is successful.</p>

<h1 id="rules">Rules</h1>

<h2 id="rules-model-and-defaults">Rules Model and Defaults</h2>

<h3 id="default-rules">Default Rules</h3>

<ul>
  <li>
    <p>Only the default policy contains a default rule. The default rule cannot be edited or deleted.</p>
  </li>
  <li>
    <p>The default rule is required and always is the last rule in the priority order. If you add rules to the default policy, they have a higher priority than the default rule.</p>
  </li>
  <li>
    <p>The <code>system</code> attribute determines whether a rule is created by a system or by a user. The default rule is the only rule that has this attribute.</p>
  </li>
</ul>

<h3 id="rules-object">Rules Object</h3>

<p>The Rules model defines several attributes:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Identifier for the rule</td>
      <td>String</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
    <tr>
      <td>type</td>
      <td>Rule type –  must be <code>SIGN_ON</code></td>
      <td>String</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>name</td>
      <td>Name for the rule</td>
      <td>String</td>
      <td>Yes</td>
      <td> </td>
    </tr>
    <tr>
      <td>status</td>
      <td>Status of the rule: <code>ACTIVE</code> or <code>INACTIVE</code></td>
      <td>String</td>
      <td>No</td>
      <td><code>ACTIVE</code></td>
    </tr>
    <tr>
      <td>priorityOrder</td>
      <td>Priority for the rule</td>
      <td>Int</td>
      <td>No</td>
      <td>Last / Lowest Priority</td>
    </tr>
    <tr>
      <td>system</td>
      <td>Whether or not the rule is the default</td>
      <td>Boolean</td>
      <td>No</td>
      <td>false</td>
    </tr>
    <tr>
      <td>created</td>
      <td>Timestamp when the rule was created</td>
      <td>Date</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
    <tr>
      <td>lastUpdated</td>
      <td>Timestamp when the rule was last modified</td>
      <td>Date</td>
      <td>No</td>
      <td>Assigned</td>
    </tr>
  </tbody>
</table>

<h3 id="conditions">Conditions</h3>

<p>Rule conditions include the people, user, and group conditions from the policy model in addition to:</p>

<p><strong>Network Condition Body</strong></p>

<p>Specifies a network segment.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>connection</td>
      <td><code>ANYWHERE</code>, <code>ON_NETWORK</code>, or <code>OFF_NETWORK</code></td>
      <td>String</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
  </tbody>
</table>

<p><strong>AuthContext Condition Body</strong></p>

<p>Specifies an authentication entry point.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>DataType</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>authType</td>
      <td><code>ANY</code> or <code>RADIUS</code></td>
      <td>String</td>
      <td>No</td>
      <td>Empty</td>
    </tr>
  </tbody>
</table>

<h3 id="actions">Actions</h3>

<p><strong>Signon Action</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Data Type</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>access</td>
      <td><code>ALLOW</code> or <code>DENY</code></td>
      <td>String</td>
      <td>YES</td>
      <td> </td>
    </tr>
    <tr>
      <td>requireFactor</td>
      <td><code>true</code> or <code>false</code></td>
      <td>Boolean</td>
      <td>NO</td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td>factorPromptMode</td>
      <td><code>DEVICE</code>, <code>SESSION</code> or <code>ALWAYS</code></td>
      <td>String</td>
      <td>When requireFactor = <code>true</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>factorLifetime</td>
      <td>How long until factor times out</td>
      <td>Int</td>
      <td>When factorPromptMode = <code>SESSION</code></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="rules-operations">Rules Operations</h2>

<h3 class="api api-operation" id="get-policy-rules">Get Policy Rules</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET </span> /api/v1/policies/{policyId}/rules</span></p>

<p>Retrieves all rules for a specified policy. </p>

<h4 id="request-parameters-7">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h5 class="api api-response api-response-example" id="response-example-3">Response Example</h5>

<pre><code class="language-json">{
        "type": "SIGN_ON",
        "id": "00oewwEGGIFFQTUCFRUL",
        "status": "ACTIVE",
        "name": "Legacy Rule",
        "priorityOrder": 1,
        "created": "2014-10-09T00:06:07.000Z",
        "lastUpdated": "2014-10-09T00:06:07.000Z",
        "system": false,
        "conditions": {
            "people": {
                "users": {
                    "exclude": []
                }
            },
            "network": {
                "connection": "ANYWHERE"
            },
            "authContext": {
                "authType": "ANY"
            }
        },
        "actions": {
            "signon": {
                "access": "ALLOW",
                "requireFactor": true,
                "factorPromptMode": "ALWAYS"
            }
        }
    }
</code></pre>

<h3 class="api api-operation" id="get-a-rule">Get a Rule</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET </span> /api/v1/policies/{policyId}/rules/{ruleId}</span></p>

<p>Retrieves the specified rule for a specified policy. The returned <code>id</code> is the rule id.</p>

<h4 id="request-parameters-8">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> and the rule id described in the <a href="#rules-object">Rules Object</a> are both required.</p>

<h4 id="response-parameters-4">Response Parameters</h4>

<pre><code class="language-json">{
    "type": "SIGN_ON",
    "id": "0pr2saywjsXMDPGASRRH",
    "status": "ACTIVE",
    "name": "Legacy Rule",
    "priorityOrder": 1,
    "created": "2014-10-09T00:06:07.000Z",
    "lastUpdated": "2014-10-09T00:06:07.000Z",
    "system": false,
    "conditions": {
        "people": {
            "users": {
                "exclude": []
            }
        },
        "network": {
            "connection": "ANYWHERE"
        },
        "authContext": {
            "authType": "ANY"
        }
    },
    "actions": {
        "signon": {
            "access": "ALLOW",
            "requireFactor": true,
            "factorPromptMode": "ALWAYS"
        }
    }
}
</code></pre>

<h3 class="api api-operation" id="create-rule">Create Rule</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span> /api/v1/policies/{policyId}/rules</span></p>

<p>Creates a new rule for a specified policy. The returned <code>id</code> is the rule id.</p>

<h4 id="request-parameters-9">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> is required.</p>

<h5 class="api api-resquest api-request-example" id="request-example-4">Request Example</h5>

<pre><code class="language-json"> {
  "name": "mySignOnPolicyRule",
  "type": "SIGN_ON",
  "conditions": {
    "network": {
      "connection": "OFF_NETWORK"
    },
    "authContext": {
      "authType": "RADIUS"
    }
  },
  "actions": {
    "signon": {
      "access": "ALLOW",
      "requireFactor": true,
      "factorPromptMode": "SESSION",
      "factorLifetime": 1
    }
  }
}
</code></pre>

<h5 class="api api-response api-response-example" id="response-example-4">Response Example</h5>

<pre><code class="language-json">{
    "type": "SIGN_ON",
    "id": "0pr2saywjsXMDPGASRRH",
    "status": "ACTIVE",
    "name": "mySignOnPolicyRule",
    "priorityOrder": 2,
    "created": "2014-10-14T17:17:42.000Z",
    "lastUpdated": "2014-10-14T17:17:42.000Z",
    "system": false,
    "conditions": {
        "network": {
            "connection": "OFF_NETWORK"
        },
        "authContext": {
            "authType": "RADIUS"
        }
    },
    "actions": {
        "signon": {
            "access": "ALLOW",
            "requireFactor": true,
            "factorPromptMode": "SESSION",
            "factorLifetime": 1
        }
    }
} 
</code></pre>

<h3 class="api api-operation" id="update-a-rule">Update a Rule</h3>

<p><span class="api-uri-template api-uri-put"><span class="api-label">PUT </span> /api/v1/policies/{policyId}/rules/{ruleId}</span></p>

<p>Updates the specified rule for the specified policy. </p>

<h4 id="request-parameters-10">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> and the rule id described in the <a href="#rules-object">Rules Object</a> are both required.</p>

<h5 class="api api-resquest api-request-example" id="request-example-5">Request Example</h5>

<p><strong>Note:</strong> This is a strict PUT. Any missing item is set to its default value. For example if <code>priorityOrder</code> is missing, the item moves to the lowest priority order in the policy. </p>

<pre><code class="language-json">{
  "name": "mySignOnPolicyRule",
  "type": "SIGN_ON",
  "conditions": {
    "people": {
      "users": {
        "exclude": []
      }
    },
    "network": {
      "connection": "OFF_NETWORK"
    },
    "authContext": {
      "authType": "RADIUS"
    }
  },
  "actions": {
    "signon": {
      "access": "ALLOW",
      "requireFactor": false,
      "factorPromptMode": "SESSION",
      "factorLifetime": 1
    }
  }
}
</code></pre>

<h5 class="api api-response api-response-example" id="response-example-5">Response Example</h5>

<pre><code class="language-json">{
    "type": "SIGN_ON",
    "id": "0pr2t4by8wWYZMLJMGEM",
    "status": "ACTIVE",
    "name": "mySignOnPolicyRule",
    "priorityOrder": 2,
    "created": "2014-10-14T17:17:42.000Z",
    "lastUpdated": "2014-10-14T20:51:24.000Z",
    "system": false,
    "conditions": {
        "people": {
            "users": {
                "exclude": []
            }
        },
        "network": {
            "connection": "OFF_NETWORK"
        },
        "authContext": {
            "authType": "RADIUS"
        }
    },
    "actions": {
        "signon": {
            "access": "ALLOW",
            "requireFactor": false
        }
    }
}
</code></pre>

<h3 class="api api-operation" id="activate-a-rule">Activate a Rule</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span> /api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/activate</span></p>

<p>Activates the specified rule for the specified policy. </p>

<h4 id="request-parameters-11">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> and the rule id described in the <a href="#rules-object">Rules Object</a> are both required.</p>

<h4 id="response-parameters-5">Response Parameters</h4>

<p>None. Status 204 No Content is returned when the activation is successful.</p>

<h3 class="api api-operation" id="deactivate-a-rule">Deactivate a Rule</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST </span> /api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate</span></p>

<p>Deactivates the specified rule for the specified policy. </p>

<h4 id="request-parameters-12">Request Parameters</h4>

<p>The policy id described in the <a href="#policy-object">Policy Object</a> and the rule id described in the <a href="#rules-object">Rules Object</a> are both required.</p>

<h4 id="response-parameters-6">Response Parameters</h4>

<p>None. Status 204 No Content is returned when the deactivation is successful.</p>

<h3 class="api api-operation" id="delete-a-rule">Delete a Rule</h3>

<p><span class="api-uri-template api-uri-delete"><span class="api-label">DELETE </span> /api/v1/policies/{policyId}/rules/{ruleId}</span></p>

<p>Deletes the specified rule for the specified policy. </p>

<h4 id="request-parameters-13">Request Parameters</h4>

<p>TThe policy id described in the <a href="#policy-object">Policy Object</a> and the rule id described in the <a href="#rules-object">Rules Object</a> are both required.</p>

<h4 id="response-parameters-7">Response Parameters</h4>

<p>None. Status 204 No Content is returned when the deletion is successful.</p>

